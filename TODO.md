# 功能需求

## 通用的功能

* 整合SpringBoot和Angular
* Restful风格的url
* 全局异常管理（使用Spring异常处理器）
* 全局缓存管理？（使用Redis）

## 具体的功能

* 注册登录系统
    * 注册
    * 登录
    * 注销
    * 找回密码？
* 介绍专业特色（文章）
    * 数据展示
* 实时动态（媒体列表，存在详情页面）
    * 数据展示
    * 分页功能
    * 简单的查询功能
        * 查询表单数据传递
        * 前端表单验证
        * 后台表单验证
	* 添加动态
* 教师队伍（媒体列表，存在详情页面）
    * 数据展示
    * 分页功能
    * 简单的查询功能
        * 查询表单数据传递
        * 前端表单验证
        * 后台表单验证
    * 复杂的查询功能
        * 查询表单数据传递
        * 前端表单验证
        * 后台表单验证
* 专业发展（文章列表，存在详情页面）
    * 数据展示
    * 分页功能
* 教学改革（文章列表，存在详情页面）
    * 数据展示
    * 分页功能
* 学习专栏（文章列表，存在详情页面）
    * 数据展示
    * 分页功能
    * 简单的查询功能
        * 查询表单数据传递
        * 前端表单验证
        * 后台表单验证
    * 权限限制功能（需要登录）

# 功能实现

- [ ] 实体类 domain
    * **［注意事项］**
        * 添加必要的Jpa注解
            * 对于@Id，添加@GeneratedValue(strategy = GenerationType.AUTO)
            * 对于@OneToOne、@OneToMany，指定mappedBy（以及fetch和cascade？）属性，并添加@JsonIgnore
        * 添加必要的Validation注解
            - [X] 暂不写上验证消息，以后放在`messages.yml`中去
        * 不使用Lombok
            - [ ] 使用IDE生成get、set方法、无参构造、全参构造，暂不重写`equals()`等方法
	- [X] 展示数据 
		* 专业特色介绍：标题，作者，内容，发表时间，更新时间
		* 专业发展专栏：标题，作者，内容，发表时间，更新时间
		    * 查询的视图对象：标题，作者
		* 教学改革专栏：标题，作者，内容，发表时间，更新时间
		    * 查询的视图对象：标题，作者
		* 学习专栏：标题，作者，专业，难度级别，内容，发表时间，更新时间
			* 查询的视图对象：标题，作者，专业，难度级别
		* 实时动态：主题，动态分类，内容，发起用户（一对一），发起时间
			* 查询的视图对象：主题，动态分类，发起者
		* 教师队伍：名称，专业级别，介绍，教师列表（一对多），创建时间，人数（只读）
			* 教师信息：姓名，性别，专业，介绍
			* 查询的视图对象：名称，等级，人数
	- [X] 用户
		* 管理员：用户名，密码
		* 用户：用户名，昵称，密码，性别，手机号，邮箱，身份，专业，注册时间
			* 用户注册表单：用户名，昵称，密码，性别，手机号，QQ号，邮箱，身份
			* 用户登录表单：用户名/手机号/邮箱，密码
	- [ ] 相关的视图对象
- [X] 枚举 enums
    * **［注意事项］**
        * 枚举值要全大写，同时大部分情况下需要重载`toString()`方法
- [X] 异常类 exception
    * **［注意事项］**
        * 存在基础异常，同时所有自定义异常都是运行时异常
- [X] Spring Security security
    * **［注意事项］**
        * 路径权限规则需要自行在配置类中配置，也可以使用@PreAuthorize指定方法级别的权限规则
        * 登录用户、记住密码、登出用户等功能，直接使用默认配置即可
- [ ] 持久层 repository
    * **［注意事项］**
        * 没什么好说的写法，接口继承自`JpaRepository<T, ID>`，添加必要的命名有规则的方法
        * 方法命名规则：越详细越好，包括排序等
        * 保留那些目前可能用不上，以后用来拓展功能的方法
- [ ] 服务层 service
    * **［注意事项］**
        * 分为接口和实现类，实现类在`service.impl`中，类名以`Impl`结尾
        * 不处理异常，断言结果以抛出运行时异常
        * 方法命名规则：除了排序等部分以外，与持久层保持一致
- [ ] 控制层 api
    * **［注意事项］**
        * 使用Rest风格的url，同时总是使用@RestController
        * 在类上加上@CrossOrigin以开启跨域
        * 捕获异常，根据异常类型设置不同的状态码，基于ResponseEntity，将数据放到响应体中
        * 方法命名规则：贴近实际更的命名
        * 如：`add,register,deleteById,cancelById,update,get,list,searchByTitle,advanceSearch`
        * 返回值不再是代表url的字符串，而是数据或以数据类型为泛型的ResponseEntity
        * 使用@Valid指定需要验证的输入数据，使用紧随的bindingResult得到可能的验证错误
        * 使用MultipleFile file得到传入的文件数据
        * 整合Spring Security和Jwt
